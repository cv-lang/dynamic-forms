@page
@model Cvl.DynamicForms.Areas.DynamicForms.Pages.TreeList.IndexModel
@{
    Layout = "_Layout";
}

@await Component.InvokeAsync("TreeNodeView", Model.TreeList)

<script type="text/javascript">
    function getData(id, type, targetdiv) {
        $.ajax({
            type: "get",
            url: "@ViewData["ApplicationUrl"]/DynamicForms/TreeList/Node?Id=" + id + "&type=" + type,
            dataType: "html",
            contentType: "text/html",
            success: function (data) {
                $('#' + targetdiv).html(data);
            },
            failure: function (response) {
                throw new Error('Error in ajax TreeListNode loading');
            }
        })
    }

</script>